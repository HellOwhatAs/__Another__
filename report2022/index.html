<!DOCTYPE html><html><head>
      <title>what_I_did</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
      
      
      
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@9.1.1/dist/mermaid.min.js"></script>
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <div class="mermaid">graph LR;
A(&quot;&#x542F;&#x53D1;&#x5F0F;&#x7B97;&#x6CD5;&lt;br&gt;&#xFF08;&#x6570;&#x6A21;&#x57F9;&#x8BAD;&#xFF09;&quot;)
B(&lt;a href=&apos;#scikit-opt&apos;&gt;scikit-opt&lt;/a&gt;)
C(&quot;TSP&quot;)
C1(&quot;&lt;a href=&apos;#&#x52A8;&#x6001;&#x89C4;&#x5212;&#x89E3;tsp&apos; id=&apos;top&apos;&gt;&#x52A8;&#x6001;&#x89C4;&#x5212;&#x89E3;TSP&lt;/a&gt;&quot;)
C2(&quot;TSP&#x7684;&#x6574;&#x6570;&#x89C4;&#x5212;&#x6A21;&#x578B;&quot;)
C21(&quot;gurobipy&quot;)
C22(&quot;&#x5206;&#x652F;&#x5B9A;&#x754C;&#x6CD5;&quot;)
C211(&quot;&lt;a href=&apos;#gurobi-&#x7684;-tsp-example&apos;&gt;Gurobi &#x7684; tsp example&lt;/a&gt;&quot;)
C --&gt; C1 &amp; C2
C2 --&gt; C21 &amp; C22
C21 --&gt; C211
D(&quot;&lt;a href=&apos;#elkai&apos;&gt;elkai&lt;/a&gt;&quot;)
B1(&quot;&lt;a href=&apos;#simulated-annealing-algorithm&apos;&gt;SA&lt;/a&gt;&quot;)
B2(&quot;GA&quot;)
D1(&quot;&lt;del&gt;&lt;a href=&apos;#lkh-&#x7B97;&#x6CD5;&apos;&gt;LKH &#x7B97;&#x6CD5;&lt;/a&gt;&lt;/del&gt;&quot;)
D2(&quot;*.pyd &#x6587;&#x4EF6;&lt;br&gt;(python&#x7684;C/C++&#x62D3;&#x5C55;)&quot;)
D21(&quot;&lt;del&gt;&lt;a href=&apos;#ctypes&apos;&gt;ctypes&lt;/a&gt;&lt;/del&gt;&quot;)
D22(&quot;&lt;del&gt;Cython&lt;/del&gt;&quot;)
D23(&quot;&lt;a href=&apos;#pybind11&apos;&gt;pybind11&lt;/a&gt;&quot;)
C1 --&gt; _couttuple(&quot;&lt;a href=&apos;#&#x901A;&#x8FC7;-stdcout-&#x6253;&#x5370;-stl-&#x4E2D;-&#x4EFB;&#x610F;&#x6A21;&#x677F;&#x7684;-tuple&apos;&gt;&#x901A;&#x8FC7; std::cout &#x6253;&#x5370; STL &#x4E2D; &#x4EFB;&#x610F;&#x6A21;&#x677F;&#x7684; tuple&lt;/a&gt;&quot;)
A --&gt; B --&gt; C --&gt; D
B --&gt; B1 &amp; B2
D --&gt; D1 &amp; D2
D2 --&gt; D21 &amp; D22 &amp; D23
E(&quot;&#x5927;&#x521B;&#x7684;&lt;br&gt;&lt;a href=&apos;#resource-scheduling-problem-in-hadoop&apos;&gt;Hadoop&lt;/a&gt;&lt;br&gt;&#x95EE;&#x9898;&#x80CC;&#x666F;&quot;)
F(&quot;Visual Studio 2019&quot;)
G(&quot;&lt;del&gt;CMake&lt;/del&gt;&quot;)
H(&quot;&lt;a href=&apos;#vcpkg&apos;&gt;vcpkg&lt;/a&gt;&quot;)
H0(&quot;&lt;del&gt;&lt;a href=&apos;#ceres&apos;&gt;ceres&lt;/a&gt;&lt;/del&gt;&quot;)
H1(&quot;&lt;a href=&apos;#eigen&apos;&gt;Eigen&lt;/a&gt;&quot;)
Greedy_Algorithm(&quot;&lt;a href=&apos;#&#x4E00;&#x4E2A;&#x8D2A;&#x5FC3;&#x5728;&#x7EBF;&#x7B97;&#x6CD5;&#x7684;c&#x5B9E;&#x73B0;&apos;&gt;&#x4E00;&#x4E2A;&#x8D2A;&#x5FC3;&#x5728;&#x7EBF;&#x7B97;&#x6CD5;&#x7684;C++&#x5B9E;&#x73B0;&lt;/a&gt;&quot;)
E --&gt; F &amp; G &amp; Greedy_Algorithm
F --&gt; H &amp; I(&quot;C++ OpenCV&quot;)
H --&gt; H0 --&gt; H1
D23 --&gt; Ref(&quot;&lt;a href=&apos;#&#x77E9;&#x9635;&#x7684;&#x5F15;&#x7528;&#x4F20;&#x9012;&apos;&gt;&#x77E9;&#x9635;&#x7684;&lt;br&gt;&#x5F15;&#x7528;&#x4F20;&#x9012;&lt;/a&gt;&quot;)
H1 ---&gt; Ref
SO(&quot;&lt;a href=&apos;#&#x901A;&#x8FC7;ga&#x6C42;&#x89E3;&#x4EFB;&#x52A1;&#x5206;&#x914D;&apos;&gt;&#x901A;&#x8FC7;GA&#x6C42;&#x89E3;&#x4EFB;&#x52A1;&#x5206;&#x914D;&lt;/a&gt;&quot;)
E ---&gt; SO
B2 --&gt; SO
</div><br>
<br>
<style>
*.top{
    box-shadow: 2px 2px 4px #888888;
}
</style>
<h3 class="mume-header" id="scikit-opt">scikit-opt</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://github.com/guofei9987/scikit-opt">https://github.com/guofei9987/scikit-opt</a><br>
install with pypi: <code>pip install scikit-opt</code><br>
&#x4E00;&#x4E2A;&#x5C01;&#x88C5;&#x4E86;7&#x79CD;&#x542F;&#x53D1;&#x5F0F;&#x7B97;&#x6CD5;&#x7684; Python &#x4EE3;&#x7801;&#x5E93;<br>
&#xFF08;&#x5DEE;&#x5206;&#x8FDB;&#x5316;&#x7B97;&#x6CD5;&#x3001;&#x9057;&#x4F20;&#x7B97;&#x6CD5;&#x3001;&#x7C92;&#x5B50;&#x7FA4;&#x7B97;&#x6CD5;&#x3001;&#x6A21;&#x62DF;&#x9000;&#x706B;&#x7B97;&#x6CD5;&#x3001;&#x8681;&#x7FA4;&#x7B97;&#x6CD5;&#x3001;&#x9C7C;&#x7FA4;&#x7B97;&#x6CD5;&#x3001;&#x514D;&#x75AB;&#x4F18;&#x5316;&#x7B97;&#x6CD5;&#xFF09;<br>
&#x901A;&#x8FC7;&#x9605;&#x8BFB;<a href="https://scikit-opt.github.io/scikit-opt/#/zh/README">&#x6587;&#x6863;</a>&#x4E86;&#x89E3;&#x4E86;&#x8BE5;&#x5E93;&#x5168;&#x90E8;&#x7B97;&#x6CD5;&#x7684; api &#x4F7F;&#x7528;&#x65B9;&#x6CD5;<br>
&#x901A;&#x8FC7;&#x9605;&#x8BFB;&#x6E90;&#x7801;&#x4E86;&#x89E3;&#x4E86; &#x9057;&#x4F20;&#x7B97;&#x6CD5; &#x548C; &#x6A21;&#x62DF;&#x9000;&#x706B;&#x7B97;&#x6CD5; &#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;</p>
<h3 class="mume-header" id="simulated-annealing-algorithm">Simulated Annealing Algorithm</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://github.com/HellOwhatAs/Simulated-Annealing">https://github.com/HellOwhatAs/Simulated-Annealing</a><br>
&#x5728;&#x4E86;&#x89E3;&#x6A21;&#x62DF;&#x9000;&#x706B;&#x7B97;&#x6CD5;&#x540E;&#xFF0C;&#x7528; C++ &#x5B9E;&#x73B0;&#x7684;&#x6C42;&#x89E3;&#x7C7B; <code>_SA</code><br>
&#x53D7; <a href="#scikit-opt">scikit-opt</a> &#x7684; user defined function &#x542F;&#x53D1;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x65B0;&#x89E3; x &#x7684;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4E86; <code>TSP_new_x</code> &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;&#x4E8E;&#x6C42;&#x89E3; TSP &#x95EE;&#x9898;&#x3002;<br>
&#x5E76;&#x901A;&#x8FC7; <a href="#pybind11">pybind11</a> &#x5C06;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x63D0;&#x4F9B;&#x7ED9; python</p>
<h3 class="mume-header" id="%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3tsp">&#x52A8;&#x6001;&#x89C4;&#x5212;&#x89E3;TSP</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://github.com/HellOwhatAs/DP-TSP">https://github.com/HellOwhatAs/DP-TSP</a><br>
&#x901A;&#x8FC7;&#x4F7F;&#x7528; <code>long long int</code> &#x4E2D;&#x7684; 64 &#x4F4D; 0/1 &#x6765;&#x8868;&#x793A;&#x8BE5;&#x57CE;&#x5E02;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x8BBF;&#x95EE;&#x8FC7;&#x4E86;&#x3002;<br>
&#x56E0;&#x6B64;&#x7406;&#x8BBA;&#x4E0A;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x6C42;&#x89E3; 64 &#x4E2A;&#x57CE;&#x5E02;&#x7684; TSP &#x95EE;&#x9898;&#x3002;<br>
&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x5728;&#x6211;&#x7684;&#x7535;&#x8111;&#x4E0A;&#xFF08;&#x5185;&#x5B58;16G&#xFF09;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x6C42;&#x89E3; 27 &#x4E2A; &#x57CE;&#x5E02;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6C42;&#x89E3;&#x66F4;&#x591A;&#x7684;&#x57CE;&#x5E02;&#x4F1A;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x8017;&#x5C3D;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#xFF1A;<code>MemoryError: bad allocation</code></p>
<h3 class="mume-header" id="%E9%80%9A%E8%BF%87-stdcout-%E6%89%93%E5%8D%B0-stl-%E4%B8%AD-%E4%BB%BB%E6%84%8F%E6%A8%A1%E6%9D%BF%E7%9A%84-tuple">&#x901A;&#x8FC7; std::cout &#x6253;&#x5370; STL &#x4E2D; &#x4EFB;&#x610F;&#x6A21;&#x677F;&#x7684; tuple</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-class">class</span> <span class="token class-name">Tuple</span><span class="token punctuation">,</span> size_t N<span class="token operator">&gt;</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">PrintTuple</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">Printf</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Tuple<span class="token operator">&amp;</span> Value<span class="token punctuation">,</span> ostream<span class="token operator">&amp;</span> os<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token class-name">PrintTuple</span><span class="token operator">&lt;</span>Tuple<span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">Printf</span><span class="token punctuation">(</span>Value<span class="token punctuation">,</span> os<span class="token punctuation">)</span><span class="token punctuation">;</span>
		os <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>N <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>Value<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-class">class</span> <span class="token class-name">Tuple</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">PrintTuple</span><span class="token operator">&lt;</span>Tuple<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">Printf</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Tuple<span class="token operator">&amp;</span> Value<span class="token punctuation">,</span> ostream<span class="token operator">&amp;</span> os<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		os <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>Value<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-class">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Args<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">PrintfMyTuple</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> tuple<span class="token operator">&lt;</span>Args<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> vlaue<span class="token punctuation">,</span> ostream<span class="token operator">&amp;</span> os<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">PrintTuple</span><span class="token operator">&lt;</span><span class="token keyword keyword-decltype">decltype</span><span class="token punctuation">(</span>vlaue<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">(</span>Args<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">Printf</span><span class="token punctuation">(</span>vlaue<span class="token punctuation">,</span> os<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-class">class</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>T1<span class="token operator">&gt;</span>
ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> tuple<span class="token operator">&lt;</span>T1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	os <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;(&quot;</span><span class="token punctuation">;</span>
	<span class="token function">PrintfMyTuple</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> os<span class="token punctuation">)</span><span class="token punctuation">;</span>
	os <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h3 class="mume-header" id="elkai">elkai</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://github.com/fikisipi/elkai">https://github.com/fikisipi/elkai</a><br>
install with pypi: <code>pip install elkai</code><br>
elkai &#x662F;&#x4E00;&#x4E2A; &#x4F7F;&#x7528; LKH&#xFF08;&#x8FD1;&#x4F3C;&#xFF09;&#x7B97;&#x6CD5;&#x6C42;&#x89E3; TSP &#x95EE;&#x9898;&#x7684; python &#x5E93;<br>
&#x9700;&#x8981;&#x7279;&#x6B8A;&#x8BF4;&#x660E;&#x7684;&#x4E00;&#x70B9;&#x662F;&#xFF0C;&#x5B83;&#x7684;&#x6C42;&#x89E3;&#x90E8;&#x5206;&#x5E76;&#x4E0D;&#x662F; python &#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x800C;&#x662F; C &#x5B9E;&#x73B0;&#x7684;<br>
elkai &#x5E93;&#x7684;&#x4F5C;&#x8005;&#x505A;&#x7684;&#x5DE5;&#x4F5C;&#x662F;&#x4F7F;&#x7528; CPython &#x7684; C &#x63A5;&#x53E3;&#x5C06; Keld Helsgaun &#x53D1;&#x5E03;&#x7684; <a href="http://akira.ruc.dk/~keld/research/LKH/LKH-2.0.9.tgz">LKH &#x7B97;&#x6CD5;&#x7684; C &#x4EE3;&#x7801;</a> &#x7F16;&#x8BD1;&#x6210;&#x4E86; python &#x62D3;&#x5C55;</p>
<blockquote>
<p>Instances with known solutions, which are up to N=315 cities, can be solved optimally.</p>
</blockquote>
<p>&#x5982;&#x4E0B;&#x662F;&#x4F7F;&#x7528; elkai &#x6C42;&#x89E3; 300 &#x4E2A;&#x57CE;&#x5E02;&#x7684; TSP &#x95EE;&#x9898;&#x7684;&#x4EE3;&#x7801;</p>
<pre data-role="codeBlock" data-info="py" class="language-python"><span class="token keyword keyword-import">import</span> elkai
<span class="token keyword keyword-import">import</span> numpy <span class="token keyword keyword-as">as</span> np
<span class="token keyword keyword-from">from</span> scipy <span class="token keyword keyword-import">import</span> spatial
<span class="token keyword keyword-import">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword keyword-as">as</span> plt
num_points <span class="token operator">=</span> <span class="token number">300</span>
points_coordinate <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span>num_points<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
distance_matrix <span class="token operator">=</span> spatial<span class="token punctuation">.</span>distance<span class="token punctuation">.</span>cdist<span class="token punctuation">(</span>points_coordinate<span class="token punctuation">,</span> 
                    points_coordinate<span class="token punctuation">,</span> metric<span class="token operator">=</span><span class="token string">&apos;euclidean&apos;</span><span class="token punctuation">)</span>
best_points<span class="token operator">=</span>elkai<span class="token punctuation">.</span>solve_float_matrix<span class="token punctuation">(</span>distance_matrix<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
best_points_ <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>best_points<span class="token punctuation">,</span> <span class="token punctuation">[</span>best_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
best_points_coordinate <span class="token operator">=</span> points_coordinate<span class="token punctuation">[</span>best_points_<span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>best_points_coordinate<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> best_points_coordinate<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&apos;o-r&apos;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>&#x65F6;&#x95F4;&#x82B1;&#x8D39;&#x7EA6;&#x4E3A; 22.59 s<br>
&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;<br>
<img src="./asserts/Figure_1.svg" alt></p>
<h3 class="mume-header" id="lkh-%E7%AE%97%E6%B3%95">LKH &#x7B97;&#x6CD5;</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="http://akira.ruc.dk/~keld/research/LKH/">http://akira.ruc.dk/~keld/research/LKH/</a><br>
&#x5728;&#x5B9E;&#x9A8C;&#x5BA4;&#x7FA4;&#x91CC;&#x53D1;&#x7684;&#x4E2D;&#x5C71;&#x5927;&#x5B66;&#x7684;&#x667A;&#x80FD;&#x4F18;&#x5316;&#x7B97;&#x6CD5;&#x4F1A;&#x8BAE;&#x91CC;&#x9762;&#x542C;&#x8BF4;&#x7684;&#xFF0C;&#x7528;&#x4E8E;&#x89E3;&#x51B3; TSP &#x95EE;&#x9898;<br>
&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x80FD;&#x770B;&#x61C2;&#x7684;&#x6559;&#x7A0B;&#xFF0C;&#x4E5F;&#x627E;&#x4E0D;&#x5230;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;<br>
&#x6240;&#x6709;&#x7684;&#x6765;&#x6E90;&#x597D;&#x50CF;&#x90FD;&#x662F; Keld Helsgaun &#x53D1;&#x5E03;&#x5728;<a href="http://akira.ruc.dk/~keld/research/">&#x5176;&#x7F51;&#x9875;</a>&#x4E0A;&#x7684;<br>
&#x672C;&#x6765;&#x60F3;&#x7814;&#x7A76;&#x4EE5;&#x4E0B;&#x4ED6;&#x7ED9;&#x51FA;&#x7684; C &#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x662F;<a href="http://akira.ruc.dk/~keld/research/LKH/LKH-2.0.9.tgz">&#x4E0B;&#x8F7D;</a>&#x4E4B;&#x540E;&#x53D1;&#x73B0;&#x6709;&#x4EBF;&#x70B9;&#x591A;<br>
<img height="350px" src="./asserts/2.png"><br>
*.c &#x6E90;&#x4EE3;&#x7801;&#x6709;&#x4E0A;&#x767E;&#x4E2A;&#xFF0C;&#x5C31;&#x653E;&#x5F03;&#x4E86;</p>
<h3 class="mume-header" id="gurobi-%E7%9A%84-tsp-example">Gurobi &#x7684; tsp example</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p>&#x4E3A;&#x4E86;&#x4E86;&#x89E3; LKH &#x7B97;&#x6CD5;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x548C;&#x6700;&#x4F18;&#x89E3;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x8DDD;&#xFF0C;&#x6211;&#x4E86;&#x89E3;&#x4E86; gurobi &#x63D0;&#x4F9B;&#x7684; TSP &#x4F8B;&#x5B50;<br>
&#x5176;&#x5EFA;&#x7ACB;&#x7684;&#x6A21;&#x578B;&#x662F;&#x5E38;&#x89C4;&#x7684; 0/1 &#x89C4;&#x5212;&#x6A21;&#x578B;&#xFF0C;&#x6BCF;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x542B;&#x4E49;&#x662F;&#x8BE5;&#x6761;&#x8FB9;&#x53D6;&#x6216;&#x4E0D;&#x53D6;&#xFF0C;&#x901A;&#x8FC7;&#x9650;&#x5236;&#x8FB9;&#x4E0A;&#x7684;&#x6743;&#x91CD;&#x6700;&#x4F4E;&#x6765;&#x5F97;&#x5230;&#x6700;&#x4F18;&#x89E3;<br>
(&#x4F46;&#x662F;&#x5B83;&#x6D88;&#x9664;&#x5B50;&#x56DE;&#x8DEF;&#x7684;&#x65B9;&#x5F0F;&#x6211;&#x5E76;&#x6CA1;&#x6709;&#x80FD;&#x591F;&#x5B8C;&#x5168;&#x7406;&#x89E3;)<br>
&#x5B83;&#x662F;&#x901A;&#x8FC7;&#x8C03;&#x7528; &#x56DE;&#x8C03;&#x51FD;&#x6570; <code>subtourelim</code> &#x7684;&#x65B9;&#x5F0F;&#x6765;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x6D88;&#x9664;&#x5B50;&#x56DE;&#x8DEF;&#x7684;&#x9650;&#x5236;&#x7684;</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword keyword-import">import</span> sys<span class="token punctuation">,</span>math<span class="token punctuation">,</span>random
<span class="token keyword keyword-from">from</span> itertools <span class="token keyword keyword-import">import</span> combinations
<span class="token keyword keyword-import">import</span> gurobipy <span class="token keyword keyword-as">as</span> gp
<span class="token keyword keyword-from">from</span> gurobipy <span class="token keyword keyword-import">import</span> GRB

<span class="token keyword keyword-def">def</span> <span class="token function">subtourelim</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> where<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword keyword-if">if</span> where <span class="token operator">==</span> GRB<span class="token punctuation">.</span>Callback<span class="token punctuation">.</span>MIPSOL<span class="token punctuation">:</span>
        vals <span class="token operator">=</span> model<span class="token punctuation">.</span>cbGetSolution<span class="token punctuation">(</span>model<span class="token punctuation">.</span>_vars<span class="token punctuation">)</span>
        tour <span class="token operator">=</span> subtour<span class="token punctuation">(</span>vals<span class="token punctuation">)</span>
        <span class="token keyword keyword-if">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tour<span class="token punctuation">)</span> <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
            model<span class="token punctuation">.</span>cbLazy<span class="token punctuation">(</span>gp<span class="token punctuation">.</span>quicksum<span class="token punctuation">(</span>model<span class="token punctuation">.</span>_vars<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span>
                                     <span class="token keyword keyword-for">for</span> i<span class="token punctuation">,</span> j <span class="token keyword keyword-in">in</span> combinations<span class="token punctuation">(</span>tour<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                         <span class="token operator">&lt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tour<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword keyword-def">def</span> <span class="token function">subtour</span><span class="token punctuation">(</span>vals<span class="token punctuation">)</span><span class="token punctuation">:</span>
    edges <span class="token operator">=</span> gp<span class="token punctuation">.</span>tuplelist<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token keyword keyword-for">for</span> i<span class="token punctuation">,</span> j <span class="token keyword keyword-in">in</span> vals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
                         <span class="token keyword keyword-if">if</span> vals<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
    unvisited <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    cycle <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># initial length has 1 more city</span>
    <span class="token keyword keyword-while">while</span> unvisited<span class="token punctuation">:</span>  <span class="token comment"># true if list is non-empty</span>
        thiscycle <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        neighbors <span class="token operator">=</span> unvisited
        <span class="token keyword keyword-while">while</span> neighbors<span class="token punctuation">:</span>
            current <span class="token operator">=</span> neighbors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            thiscycle<span class="token punctuation">.</span>append<span class="token punctuation">(</span>current<span class="token punctuation">)</span>
            unvisited<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>current<span class="token punctuation">)</span>
            neighbors <span class="token operator">=</span> <span class="token punctuation">[</span>j <span class="token keyword keyword-for">for</span> i<span class="token punctuation">,</span> j <span class="token keyword keyword-in">in</span> edges<span class="token punctuation">.</span>select<span class="token punctuation">(</span>current<span class="token punctuation">,</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">)</span>
                         <span class="token keyword keyword-if">if</span> j <span class="token keyword keyword-in">in</span> unvisited<span class="token punctuation">]</span>
        <span class="token keyword keyword-if">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>cycle<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>thiscycle<span class="token punctuation">)</span><span class="token punctuation">:</span>
            cycle <span class="token operator">=</span> thiscycle
    <span class="token keyword keyword-return">return</span> cycle
n<span class="token operator">=</span><span class="token number">300</span>
random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword keyword-for">for</span> i <span class="token keyword keyword-in">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>
dist <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">:</span>
        math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">-</span>points<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span> <span class="token keyword keyword-for">for</span> k <span class="token keyword keyword-in">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword keyword-for">for</span> i <span class="token keyword keyword-in">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword keyword-for">for</span> j <span class="token keyword keyword-in">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span>
m <span class="token operator">=</span> gp<span class="token punctuation">.</span>Model<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">vars</span> <span class="token operator">=</span> m<span class="token punctuation">.</span>addVars<span class="token punctuation">(</span>dist<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> obj<span class="token operator">=</span>dist<span class="token punctuation">,</span> vtype<span class="token operator">=</span>GRB<span class="token punctuation">.</span>BINARY<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&apos;e&apos;</span><span class="token punctuation">)</span>
<span class="token keyword keyword-for">for</span> i<span class="token punctuation">,</span> j <span class="token keyword keyword-in">in</span> <span class="token builtin">vars</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">vars</span><span class="token punctuation">[</span>j<span class="token punctuation">,</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">vars</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span>  <span class="token comment"># edge in opposite direction</span>
m<span class="token punctuation">.</span>addConstrs<span class="token punctuation">(</span><span class="token builtin">vars</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword keyword-for">for</span> i <span class="token keyword keyword-in">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span>_vars <span class="token operator">=</span> <span class="token builtin">vars</span>
m<span class="token punctuation">.</span>Params<span class="token punctuation">.</span>LazyConstraints <span class="token operator">=</span> <span class="token number">1</span>
m<span class="token punctuation">.</span>optimize<span class="token punctuation">(</span>subtourelim<span class="token punctuation">)</span>
vals <span class="token operator">=</span> m<span class="token punctuation">.</span>getAttr<span class="token punctuation">(</span><span class="token string">&apos;X&apos;</span><span class="token punctuation">,</span> <span class="token builtin">vars</span><span class="token punctuation">)</span>
tour <span class="token operator">=</span> subtour<span class="token punctuation">(</span>vals<span class="token punctuation">)</span>
<span class="token keyword keyword-assert">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tour<span class="token punctuation">)</span> <span class="token operator">==</span> n
<span class="token keyword keyword-print">print</span><span class="token punctuation">(</span><span class="token string">&apos;Optimal tour: %s&apos;</span> <span class="token operator">%</span> <span class="token builtin">str</span><span class="token punctuation">(</span>tour<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword keyword-print">print</span><span class="token punctuation">(</span><span class="token string">&apos;Optimal cost: %g&apos;</span> <span class="token operator">%</span> m<span class="token punctuation">.</span>ObjVal<span class="token punctuation">)</span>
</pre><p>&#x540C;&#x6837;&#x662F; 300 &#x4E2A;&#x57CE;&#x5E02;&#x7684;&#x95EE;&#x9898;&#xFF0C;gurobi &#x7684;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x82B1;&#x8D39;&#x4E86; 112.95 s&#xFF0C; &#x611F;&#x89C9;&#x65F6;&#x95F4;&#x5F88;&#x77ED;<br>
&#x5F97;&#x5230;&#x7684;&#x5374;&#x662F;&#x6700;&#x4F18;&#x89E3;&#xFF0C;&#x975E;&#x5E38;&#x7684;&#x4E0D;&#x53EF;&#x601D;&#x8BAE;<br>
&#x4F46;&#x662F;&#x6211;&#x770B;&#x4E0D;&#x51FA;&#x4E3A;&#x4EC0;&#x4E48;</p>
<h3 class="mume-header" id="ctypes">ctypes</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://docs.python.org/3.8/library/ctypes.html">https://docs.python.org/3.8/library/ctypes.html</a><br>
ctypes &#x662F; python &#x7684;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x5E93;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5728; python &#x4EE3;&#x7801;&#x7AEF;&#x8C03;&#x7528; C &#x4EE3;&#x7801;&#x7F16;&#x8BD1;&#x51FA;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x7684;&#x65B9;&#x6CD5;<br>
&#x4F46;&#x662F;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x6570;&#x7EC4;&#x7684;&#x652F;&#x6301;&#x4E5F;&#x6BD4;&#x8F83;&#x7E41;&#x7410;<br>
&#xFF08;&#x800C;&#x4E14; C &#x751F;&#x6210; dll &#x4E5F;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF09;<br>
&#x800C;&#x4E14;&#x96BE;&#x4EE5;&#x652F;&#x6301; C++<br>
&#x56E0;&#x6B64;&#x6211;&#x7B80;&#x5355;&#x5C1D;&#x8BD5;&#x540E;&#x653E;&#x5F03;&#x4E86;&#xFF08;&#x6BD5;&#x7ADF;&#x6709; <a href="#pybind11">pybind11</a>&#xFF09;</p>
<h3 class="mume-header" id="pybind11">pybind11</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://github.com/pybind/pybind11">https://github.com/pybind/pybind11</a><br>
&#x751F;&#x6210; python &#x7684; C++ &#x62D3;&#x5C55;&#x5E93;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; C++ &#x7AEF;&#x8C03;&#x7528; python &#x89E3;&#x91CA;&#x5668;&#xFF08;&#x8FD9;&#x4E2A;&#x6CA1;&#x4EBA;&#x7528;&#x5427;&#xFF09;<br>
&#x975E;&#x5E38;&#x7684;&#x597D;&#x7528;<br>
&#x6709;&#x4E00;&#x70B9;&#x6CE8;&#x610F;&#xFF0C;&#x636E;&#x8BF4; python &#x548C; C++ &#x76F8;&#x4E92;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x7684;&#x5F00;&#x9500;&#x6BD4;&#x8F83;&#x5927;&#xFF08;&#x81F3;&#x5C11;&#x6BD4; <a href="https://github.com/cython/cython">Cython</a> &#x5927;&#xFF09;&#x56E0;&#x6B64;&#x9002;&#x5408;&#x5F00;&#x9500;&#x6BD4;&#x8F83;&#x5927;&#x7684; C++ &#x51FD;&#x6570;&#x8C03;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x5C0F;&#x5374;&#x9700;&#x8981;&#x7ECF;&#x5E38;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF08;&#x6B63;&#x597D;&#x628A;&#x8BA1;&#x7B97;&#x5BC6;&#x96C6;&#x578B;&#x4EFB;&#x52A1;&#x4ECE; python &#x6362;&#x5230; C++&#xFF09;<br>
<strong>&#x8FD9;&#x91CC;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x5728; Visual Studio 2019 &#x4E0B;&#x7684;&#x9879;&#x76EE;&#x914D;&#x7F6E;</strong><br>
&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#x90FD;&#x4ECE;&#x9879;&#x76EE;&#x5C5E;&#x6027;&#x9875;&#x5F00;&#x59CB;</p>
<ul>
<li>&#x5E38;&#x89C4; - &#x914D;&#x7F6E;&#x7C7B;&#x578B; - &#x52A8;&#x6001;&#x5E93;(.dll)</li>
<li>&#x9AD8;&#x7EA7; - &#x9AD8;&#x7EA7;&#x5C5E;&#x6027; - &#x76EE;&#x6807;&#x6587;&#x4EF6;&#x62D3;&#x5C55;&#x540D; - <code>.pyd</code></li>
<li>VC++&#x76EE;&#x5F55; - &#x5305;&#x542B;&#x76EE;&#x5F55; - &#x65B0;&#x5EFA;&#x4E24;&#x9879;&#x5206;&#x522B;&#x662F;&#xFF08;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x662F;&#xFF09;<code>D:\Python3.8.10\Lib\site-packages\pybind11\include</code> &#x548C; <code>D:\Python3.8.10\include</code></li>
<li>VC++&#x76EE;&#x5F55; - &#x5E93;&#x76EE;&#x5F55; - &#x65B0;&#x5EFA;&#x4E00;&#x9879;&#xFF08;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x662F;&#xFF09;<code>D:\Python3.8.10\libs</code></li>
<li>&#x94FE;&#x63A5;&#x5668; - &#x8F93;&#x5165; - &#x9644;&#x52A0;&#x4F9D;&#x8D56;&#x9879; - &#x8F93;&#x5165;&#xFF08;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x662F;&#xFF09;<code>D:\Python3.8.10\libs\python38.lib</code></li>
</ul>
<p><strong>&#x751F;&#x6210;&#xFF1A;</strong><br>
&#x751F;&#x6210; - &#x751F;&#x6210;&#x89E3;&#x51B3;&#x65B9;&#x6848;<br>
<br></p>
<h3 class="mume-header" id="resource-scheduling-problem-in-hadoop">Resource Scheduling Problem in Hadoop</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://github.com/shiwanghua/SharedFiles/tree/Project-CodeDemo">https://github.com/shiwanghua/SharedFiles/tree/Project-CodeDemo</a><br>
&#x7ECF;&#x8FC7;&#x5B66;&#x957F;&#x4EEC;&#x51B3;&#x5B9A;&#x6211;&#x4EEC;&#x7684;&#x5927;&#x521B;&#x9879;&#x76EE;&#x5728;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x4FEE;&#x6539;&#x4E00;&#x4E9B;&#x4F5C;&#x4E3A;&#x9879;&#x76EE;&#x80CC;&#x666F;&#xFF0C;&#x8981;&#x505A;&#x5728;&#x7EBF;&#x7684;&#x65B9;&#x6CD5;<br>
&#x9879;&#x76EE;&#x7684;&#x8BF4;&#x660E;&#x5728;<a href="http://hellowhatas.github.io/__Another__/Project-Description.html">&#x8FD9;&#x91CC;</a>&#xFF08;convert with <a href="https://github.com/pdf2htmlEX/pdf2htmlEX">pdf2htmlEX</a>&#xFF09;</p>
<h3 class="mume-header" id="%E4%B8%80%E4%B8%AA%E8%B4%AA%E5%BF%83%E5%9C%A8%E7%BA%BF%E7%AE%97%E6%B3%95%E7%9A%84c%E5%AE%9E%E7%8E%B0">&#x4E00;&#x4E2A;&#x8D2A;&#x5FC3;&#x5728;&#x7EBF;&#x7B97;&#x6CD5;&#x7684;C++&#x5B9E;&#x73B0;</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p>&#x7531;&#x4ECE;&#x5764;&#x63D0;&#x51FA;&#x3001;&#x9648;&#x8363;&#x9E4F;&#x603B;&#x7ED3;<br>
<img src="./asserts/1.svg" alt><br>
&#x7531;&#x859B;&#x5BB6;&#x5947;&#x548C;&#x9648;&#x8363;&#x9E4F;&#x5B8C;&#x6210;&#x7A0B;&#x5E8F;&#x7F16;&#x5199;</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;random&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
default_random_engine <span class="token function">rande</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> M <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">,</span> core_num <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">all_cores</span><span class="token punctuation">(</span>core_num<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">generate_one_job</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> task_num <span class="token operator">=</span> <span class="token generic-function"><span class="token function">uniform_int_distribution</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">(</span>rande<span class="token punctuation">)</span><span class="token punctuation">;</span>
	uniform_int_distribution<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">rand_tasksize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> ret<span class="token punctuation">;</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> task_num<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">rand_tasksize</span><span class="token punctuation">(</span>rande<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">schedule</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> a_job<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> color<span class="token punctuation">,</span><span class="token keyword keyword-int">int</span> offset<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> cores <span class="token operator">=</span> all_cores<span class="token punctuation">;</span>
	<span class="token keyword keyword-auto">auto</span> copy_of_a_job <span class="token operator">=</span> a_job<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;&gt;</span> ret<span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>copy_of_a_job<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> copy_of_a_job<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	deque<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">sorted_tasks</span><span class="token punctuation">(</span>copy_of_a_job<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> copy_of_a_job<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;&gt;</span> tmp<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>sorted_tasks<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-int">int</span> size_sum <span class="token operator">=</span> sorted_tasks<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		tmp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>size_sum<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		sorted_tasks<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>sorted_tasks<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> size_sum<span class="token operator">+</span> sorted_tasks<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> M<span class="token operator">*</span>offset <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword keyword-int">int</span> _ <span class="token operator">=</span> sorted_tasks<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			sorted_tasks<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			size_sum <span class="token operator">+=</span> _<span class="token punctuation">;</span>
			tmp<span class="token punctuation">[</span>tmp<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> core_num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> <span class="token function">schedule</span><span class="token punctuation">(</span>copy_of_a_job<span class="token punctuation">,</span> color<span class="token punctuation">,</span> offset<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-auto">auto</span> copy_cores <span class="token operator">=</span> cores<span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>copy_cores<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> copy_cores<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> line <span class="token operator">=</span> copy_cores<span class="token punctuation">[</span>tmp<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> tmp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>cores<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">&gt;</span> line<span class="token punctuation">)</span><span class="token operator">++</span>index<span class="token punctuation">;</span>
		cores<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> line<span class="token punctuation">;</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> j <span class="token operator">:</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword keyword-int">int</span> tmp1 <span class="token operator">=</span> cores<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
			cores<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+=</span> j<span class="token punctuation">;</span>
			ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span> index <span class="token punctuation">,</span>tmp1 <span class="token punctuation">,</span>cores<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token punctuation">,</span>color <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token operator">++</span>index<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-return">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">schedule</span><span class="token punctuation">(</span><span class="token function">generate_one_job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> all_cores<span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&apos;\t&apos;</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&apos;\n&apos;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>&#x4EE5;&#x4E0B;&#x662F;20&#x4E2A;job&#x7684;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x60C5;&#x51B5;&#x56FE;&#xFF1A;<br>
<img src="./asserts/1.png" alt></p>
<h3 class="mume-header" id="%E9%80%9A%E8%BF%87ga%E6%B1%82%E8%A7%A3%E4%BB%BB%E5%8A%A1%E5%88%86%E9%85%8D">&#x901A;&#x8FC7;GA&#x6C42;&#x89E3;&#x4EFB;&#x52A1;&#x5206;&#x914D;</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p>&#x5C06;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x62BD;&#x8C61;&#x4E3A;&#x4E00;&#x822C;&#x51FD;&#x6570;&#x7684;&#x6574;&#x6570;&#x89C4;&#x5212;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x901A;&#x8FC7; <a href="#scikit-opt">scikit-opt</a> &#x7684;&#x9057;&#x4F20;&#x7B97;&#x6CD5;&#xFF08;GA&#xFF09;&#x6C42;&#x89E3;&#x3002;<br>
&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;<br>
<code>rand_data.py</code>:</p>
<pre data-role="codeBlock" data-info="py" class="language-python"><span class="token keyword keyword-import">import</span> numpy <span class="token keyword keyword-as">as</span> np
njob<span class="token operator">=</span><span class="token number">20</span>
nblock<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>njob<span class="token punctuation">)</span>
datasize<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">(</span>njob<span class="token punctuation">,</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>nblock<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

nhost<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># ncore=np.random.randint(4,12,nhost)</span>
ncore<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span>
</pre><p><code>vis.py</code>:</p>
<pre data-role="codeBlock" data-info="py" class="language-python"><span class="token keyword keyword-import">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword keyword-as">as</span> plt
cnames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span>
_ion <span class="token operator">=</span> <span class="token boolean">False</span>
<span class="token keyword keyword-def">def</span> <span class="token function">ion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword keyword-global">global</span> _ion
    _ion <span class="token operator">=</span> <span class="token boolean">True</span>
    plt<span class="token punctuation">.</span>ion<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword keyword-def">def</span> <span class="token function">ioff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword keyword-global">global</span> _ion
    _ion <span class="token operator">=</span> <span class="token boolean">False</span>
    plt<span class="token punctuation">.</span>ioff<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword keyword-def">def</span> <span class="token function">visualize</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    colortable <span class="token operator">=</span> <span class="token punctuation">[</span>cnames<span class="token punctuation">[</span>i <span class="token operator">%</span> <span class="token builtin">len</span><span class="token punctuation">(</span>cnames<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword keyword-for">for</span> i <span class="token keyword keyword-in">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    max_y <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token keyword keyword-for">for</span> i <span class="token keyword keyword-in">in</span> data<span class="token punctuation">)</span>
    <span class="token keyword keyword-for">for</span> i <span class="token keyword keyword-in">in</span> data<span class="token punctuation">:</span>
        plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">0.1</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                 color<span class="token operator">=</span>colortable<span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                 linewidth<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-if">if</span> _ion<span class="token punctuation">:</span>
        plt<span class="token punctuation">.</span>pause<span class="token punctuation">(</span><span class="token number">1e-5</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>cla<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-else">else</span><span class="token punctuation">:</span>
        plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p><code>main.py</code>:</p>
<pre data-role="codeBlock" data-info="py" class="language-python"><span class="token keyword keyword-from">from</span> sko<span class="token punctuation">.</span>GA <span class="token keyword keyword-import">import</span> GA
<span class="token keyword keyword-import">import</span> numpy <span class="token keyword keyword-as">as</span> np
<span class="token keyword keyword-from">from</span> numba <span class="token keyword keyword-import">import</span> njit
<span class="token keyword keyword-import">import</span> rand_data <span class="token keyword keyword-as">as</span> di
<span class="token keyword keyword-import">import</span> vis

vis<span class="token punctuation">.</span>ion<span class="token punctuation">(</span><span class="token punctuation">)</span>

all_cores<span class="token operator">=</span>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>
    np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>di<span class="token punctuation">.</span>ncore<span class="token punctuation">)</span><span class="token punctuation">,</span>
    np<span class="token punctuation">.</span>float64
<span class="token punctuation">)</span>

data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token decorator annotation punctuation">@njit</span>
<span class="token keyword keyword-def">def</span> <span class="token function">_max_end</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span>np<span class="token punctuation">.</span>ndarray<span class="token punctuation">,</span>all_cores<span class="token punctuation">:</span>np<span class="token punctuation">.</span>ndarray<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x<span class="token operator">=</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int64<span class="token punctuation">)</span>
    tmp<span class="token operator">=</span>all_cores<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
    recent_max<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>
    ret<span class="token operator">=</span><span class="token number">0</span>
    mean_val<span class="token operator">=</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>all_cores<span class="token punctuation">)</span>
    <span class="token keyword keyword-for">for</span> c <span class="token keyword keyword-in">in</span> x<span class="token punctuation">:</span>recent_max<span class="token operator">=</span><span class="token builtin">max</span><span class="token punctuation">(</span>recent_max<span class="token punctuation">,</span>all_cores<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-for">for</span> c <span class="token keyword keyword-in">in</span> x<span class="token punctuation">:</span>tmp<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>recent_max
    <span class="token keyword keyword-for">for</span> b<span class="token punctuation">,</span>c <span class="token keyword keyword-in">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        _<span class="token operator">=</span>all_cores<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">-</span>mean_val
        <span class="token keyword keyword-if">if</span> _<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
            ret<span class="token operator">+=</span><span class="token number">1000</span><span class="token operator">*</span>_
        tmp<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">+=</span>di<span class="token punctuation">.</span>datasize<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span>
    ret<span class="token operator">+=</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span>np<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>all_cores<span class="token punctuation">)</span>
    <span class="token keyword keyword-return">return</span> ret

<span class="token keyword keyword-def">def</span> <span class="token function">max_end</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span>np<span class="token punctuation">.</span>ndarray<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword keyword-return">return</span> _max_end<span class="token punctuation">(</span>x<span class="token punctuation">,</span>all_cores<span class="token punctuation">)</span>

<span class="token keyword keyword-def">def</span> <span class="token function">update_all_cores</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span>np<span class="token punctuation">.</span>ndarray<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x<span class="token operator">=</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int64<span class="token punctuation">)</span>
    tmp<span class="token operator">=</span>all_cores<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
    recent_max<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-for">for</span> c <span class="token keyword keyword-in">in</span> x<span class="token punctuation">:</span>recent_max<span class="token operator">=</span><span class="token builtin">max</span><span class="token punctuation">(</span>recent_max<span class="token punctuation">,</span>all_cores<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-for">for</span> c <span class="token keyword keyword-in">in</span> x<span class="token punctuation">:</span>tmp<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>recent_max
    <span class="token keyword keyword-for">for</span> b<span class="token punctuation">,</span>c <span class="token keyword keyword-in">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        tmp_list<span class="token operator">=</span><span class="token punctuation">[</span>j<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>tmp<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">]</span>
        tmp<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">+=</span>di<span class="token punctuation">.</span>datasize<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span>
        tmp_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tmp<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">)</span>
        data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tmp_list<span class="token punctuation">)</span>
    <span class="token keyword keyword-return">return</span> tmp
    
<span class="token keyword keyword-for">for</span> j <span class="token keyword keyword-in">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>di<span class="token punctuation">.</span>njob<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword keyword-print">print</span><span class="token punctuation">(</span><span class="token string">&quot;Job {}:&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>
    ga<span class="token operator">=</span>GA<span class="token punctuation">(</span>
        func<span class="token operator">=</span>max_end<span class="token punctuation">,</span>
        n_dim<span class="token operator">=</span>di<span class="token punctuation">.</span>nblock<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>
        lb<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
        ub<span class="token operator">=</span>all_cores<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
        precision<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
        max_iter<span class="token operator">=</span><span class="token number">500</span>
    <span class="token punctuation">)</span>
    ga<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-print">print</span><span class="token punctuation">(</span>ga<span class="token punctuation">.</span>best_x<span class="token punctuation">,</span>ga<span class="token punctuation">.</span>best_y<span class="token punctuation">)</span>
    all_cores<span class="token operator">=</span>update_all_cores<span class="token punctuation">(</span>ga<span class="token punctuation">.</span>best_x<span class="token punctuation">)</span>
    <span class="token keyword keyword-print">print</span><span class="token punctuation">(</span>all_cores<span class="token punctuation">)</span>
    vis<span class="token punctuation">.</span>visualize<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword keyword-print">print</span><span class="token punctuation">(</span><span class="token string">&quot;done !&quot;</span><span class="token punctuation">)</span>
vis<span class="token punctuation">.</span>ioff<span class="token punctuation">(</span><span class="token punctuation">)</span>
vis<span class="token punctuation">.</span>visualize<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</pre><p>&#x4EE5;&#x4E0B;&#x662F;20&#x4E2A;job&#x7684;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x60C5;&#x51B5;&#x56FE;&#xFF1A;<br>
<img src="./asserts/Figure_1.png" height="380px/"></p>
<h3 class="mume-header" id="vcpkg">vcpkg</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="https://github.com/microsoft/">https://github.com/microsoft/</a><br>
vcpkg &#x662F; C++ &#x7684;&#x5E93;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x80FD;&#x591F;&#x901A;&#x8FC7; <code>vcpkg install XXX</code> &#x7684;&#x547D;&#x4EE4;&#x5B89;&#x88C5;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;<br>
&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>vcpkg integrate install</code> &#x5C06;&#x5B89;&#x88C5;&#x7684;&#x5E93;&#x5728; Visual Studio &#x4E2D;&#x4F7F;&#x7528;</p>
<blockquote>
<p>&#x6240;&#x6709;&#x5DF2;&#x5B89;&#x88C5;&#x7684;&#x5E93;&#x5747;&#x53EF;&#x7ACB;&#x5373;&#x4F7F;&#x7528; <code>#include</code> &#x5305;&#x542B;&#x60A8;&#x9700;&#x4F7F;&#x7528;&#x7684;&#x5E93;&#x7684;&#x5934;&#x6587;&#x4EF6;&#x4E14;&#x65E0;&#x9700;&#x989D;&#x5916;&#x914D;&#x7F6E;&#x3002;</p>
</blockquote>
<p>&#xFF08;&#x6709;&#x70B9;&#x50CF; pip &#x4E86;&#xFF09;</p>
<h3 class="mume-header" id="ceres">ceres</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="http://ceres-solver.org/">http://ceres-solver.org/</a><br>
&#x7528;&#x4E8E;&#x6C42;&#x89E3;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x95EE;&#x9898;&#x7684;C++&#x6A21;&#x5757;&#xFF0C;&#x7528; <code>vcpkg install ceres</code> &#x5B89;&#x88C5;<br>
&#x6709;&#x70B9;&#x590D;&#x6742;&#xFF0C;&#x4E14;&#x6CA1;&#x6709;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5C31;&#x653E;&#x5F03;&#x4E86;</p>
<h3 class="mume-header" id="eigen">Eigen</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p><a href="http://eigen.tuxfamily.org/">http://eigen.tuxfamily.org/</a><br>
C++ &#x7684;&#x77E9;&#x9635;&#x5E93;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;&#x5F88;&#x591A;&#x5E93;&#x7684;&#x4F9D;&#x8D56;&#x9879;&#xFF08;&#x5982; <a href="#ceres">ceres</a>&#xFF09;<br>
&#x542B;&#x6709;&#x5F88;&#x591A;&#x7684;&#x7EBF;&#x6027;&#x4EE3;&#x6570;&#x5DE5;&#x5177;&#xFF0C;&#x4F46;&#x662F;&#x6682;&#x65F6;&#x6CA1;&#x6709;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5C31;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x4F7F;&#x7528;<br>
&#x53EA;&#x7528;&#x4E86;&#x57FA;&#x7840;&#x7684;&#x77E9;&#x9635;&#x7C7B;<br>
&#x4EE5;&#x4E0B;&#x662F; <a href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3tsp">&#x52A8;&#x6001;&#x89C4;&#x5212;&#x89E3;TSP</a> &#x7684;&#x4F7F;&#x7528; Eigen &#x77E9;&#x9635;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pybind11/pybind11.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pybind11/stl.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pybind11/eigen.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">Vin</span><span class="token expression"><span class="token punctuation">(</span>V<span class="token punctuation">,</span>i<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword keyword-bool">bool</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-unsigned">unsigned</span> __int64<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>V<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">Vpop</span><span class="token expression"><span class="token punctuation">(</span>V<span class="token punctuation">,</span>i<span class="token punctuation">)</span> <span class="token punctuation">(</span>V<span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-unsigned">unsigned</span> __int64<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">Vput</span><span class="token expression"><span class="token punctuation">(</span>V<span class="token punctuation">,</span>i<span class="token punctuation">)</span> <span class="token punctuation">(</span>V<span class="token operator">|</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-unsigned">unsigned</span> __int64<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-namespace">namespace</span> py <span class="token operator">=</span> pybind11<span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> n<span class="token punctuation">;</span>
Eigen<span class="token double-colon punctuation">::</span>Ref<span class="token operator">&lt;</span>Eigen<span class="token double-colon punctuation">::</span>Matrix<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>RowMajor<span class="token operator">&gt;&gt;</span><span class="token operator">*</span> x<span class="token punctuation">;</span>
Eigen<span class="token double-colon punctuation">::</span>Matrix<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>RowMajor<span class="token operator">&gt;</span> dp<span class="token punctuation">;</span>
Eigen<span class="token double-colon punctuation">::</span>Matrix<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>RowMajor<span class="token operator">&gt;</span> route<span class="token punctuation">;</span>

<span class="token keyword keyword-double">double</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation">,</span> <span class="token keyword keyword-long">long</span> <span class="token keyword keyword-long">long</span> <span class="token keyword keyword-int">int</span> V<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>V<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">dp</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>V<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">route</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>V<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">dp</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>V<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> <span class="token function">dp</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>V<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-double">double</span> recent_min <span class="token operator">=</span> DBL_MAX<span class="token punctuation">,</span> tmp<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> chosen_k <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">Vin</span><span class="token punctuation">(</span>V<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>k<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">d</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token function">Vpop</span><span class="token punctuation">(</span>V<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> recent_min<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				recent_min <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
				chosen_k <span class="token operator">=</span> k<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">dp</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>V<span class="token punctuation">)</span> <span class="token operator">=</span> recent_min<span class="token punctuation">;</span>
	<span class="token function">route</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> V<span class="token punctuation">)</span> <span class="token operator">=</span> chosen_k<span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> recent_min<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">RM</span><span class="token expression"><span class="token punctuation">(</span>type<span class="token punctuation">)</span> Eigen<span class="token double-colon punctuation">::</span>Matrix<span class="token operator">&lt;</span>type<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>RowMajor<span class="token operator">&gt;</span></span></span>
vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">solve</span><span class="token punctuation">(</span>Eigen<span class="token double-colon punctuation">::</span>Ref<span class="token operator">&lt;</span><span class="token function">RM</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> _x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	n <span class="token operator">=</span> _x<span class="token punctuation">.</span><span class="token function">rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	x <span class="token operator">=</span> <span class="token operator">&amp;</span>_x<span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;</span> <span class="token number">64</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-throw">throw</span> py<span class="token double-colon punctuation">::</span><span class="token function">value_error</span><span class="token punctuation">(</span><span class="token string">&quot;Error: num of points too large causing long long int overflow.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-long">long</span> <span class="token keyword keyword-long">long</span> <span class="token keyword keyword-int">int</span> tmp <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span> <span class="token generic class-name"><span class="token operator">&lt;</span> <span class="token keyword keyword-unsigned">unsigned</span> __int64<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	dp <span class="token operator">=</span> <span class="token function">RM</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">)</span><span class="token double-colon punctuation">::</span><span class="token function">Constant</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> tmp<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	route <span class="token operator">=</span> <span class="token function">RM</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token double-colon punctuation">::</span><span class="token function">Constant</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> tmp<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-long">long</span> <span class="token keyword keyword-long">long</span> V <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-unsigned">unsigned</span> __int64<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-double">double</span> dret <span class="token operator">=</span> <span class="token function">d</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> V<span class="token punctuation">)</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> ret<span class="token punctuation">;</span>
	ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span> start <span class="token operator">=</span> <span class="token function">route</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>V<span class="token punctuation">)</span><span class="token punctuation">;</span> V <span class="token operator">=</span> <span class="token function">Vpop</span><span class="token punctuation">(</span>V<span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span> start <span class="token operator">=</span> <span class="token function">route</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> V<span class="token punctuation">)</span><span class="token punctuation">;</span> V <span class="token operator">=</span> <span class="token function">Vpop</span><span class="token punctuation">(</span>V<span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-return">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">PYBIND11_MODULE</span><span class="token punctuation">(</span>dp_tsp<span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	m<span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token string">&quot;solve&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>solve<span class="token punctuation">,</span> py<span class="token double-colon punctuation">::</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token string">&quot;distance_matrix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>&#x4ECE;&#x4EE3;&#x7801;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x786E;&#x5B9E;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x4EE3;&#x7801;&#x7684;&#x4E66;&#x5199;&#xFF0C;&#x4F46;&#x662F;&#x4ECE;&#x6548;&#x7387;&#x7684;&#x65B9;&#x9762;&#x6765;&#x770B;&#xFF0C;&#x4F7F;&#x7528; Eigen &#x7684;&#x4EE3;&#x7801;&#x8981;&#x6162;&#x4E00;&#x70B9;<br>
&#x800C;&#x4E14;&#x662F;&#x5426;&#x8C03;&#x7528;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x662F;&#x503C;&#x5F97;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x6211;&#x66FE;&#x7ECF;&#x7528; C++ &#x91CD;&#x5199;&#x4E00;&#x4E2A; python opencv &#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F46;&#x662F; C++ &#x7684;&#x5B9E;&#x73B0;&#x7ADF;&#x7136;&#x8981;&#x6BD4; python opencv &#x7684;&#x5B9E;&#x73B0;&#x8FD8;&#x8981;&#x6162;&#x3002;&#x540E;&#x6765;&#x53D1;&#x73B0;&#x662F;&#x4E00;&#x4E2A;&#x5B50;&#x77E9;&#x9635;&#x7684;&#x6C42;&#x548C;&#x5904;&#xFF0C;&#x6211;&#x8C03;&#x7528;&#x4E86; Eigen &#x7684;&#x5B50;&#x77E9;&#x9635;&#x5207;&#x7247;&#x7136;&#x540E;&#x518D; sum &#x6C42;&#x548C;&#xFF0C;&#x800C;&#x8FD9;&#x6837;&#x8FDC;&#x6162;&#x4E8E;&#x76F4;&#x63A5;&#x904D;&#x5386;&#x6C42;&#x548C;&#xFF08;&#x672A;&#x63A2;&#x7A76;&#x4E3A;&#x4EC0;&#x4E48;&#xFF09;<br>
&#x4FEE;&#x6539;&#x540E;&#x7684; C++ &#x4EE3;&#x7801;&#x7EC8;&#x4E8E;&#x6BD4; python opencv &#x5FEB;&#x4E00;&#x4E9B;&#x4E86;<br>
&#x56E0;&#x6B64;&#xFF0C;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x5728;&#x54EA;&#x91CC;&#x4F7F;&#x7528; Eigen &#x77E9;&#x9635;&#x662F;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x8003;&#x8651;&#x7684;&#x95EE;&#x9898;</p>
<h3 class="mume-header" id="%E7%9F%A9%E9%98%B5%E7%9A%84%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92">&#x77E9;&#x9635;&#x7684;&#x5F15;&#x7528;&#x4F20;&#x9012;</h3>

<p><a href="#top"><img class="top" src="./asserts/top.png" width="30px/"></a></p>
<p>Eigen &#x7684; Matrix &#x548C; numpy &#x7684; ndarray &#x53EF;&#x4EE5;&#x901A;&#x8FC7; pybind &#x5728; python &#x4E0E; C++ &#x51FD;&#x6570;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x5F15;&#x7528;&#x4F20;&#x9012;&#x3002;<br>
&#x9700;&#x8981;&#x6CE8;&#x610F; numpy &#x77E9;&#x9635;&#x9ED8;&#x8BA4;&#x884C;&#x4F18;&#x5148;&#x800C; Eigen &#x77E9;&#x9635;&#x9ED8;&#x8BA4;&#x5217;&#x4F18;&#x5148;&#x3002;<br>
&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>Eigen::Matrix&lt;double, Eigen::Dynamic, Eigen::Dynamic, Eigen::RowMajor&gt;</code> &#x5728; Eigen &#x4E2D;&#x5B9A;&#x4E49;&#x884C;&#x4F18;&#x5148;&#x7684;&#x77E9;&#x9635;&#x4ECE;&#x800C;&#x89E3;&#x51B3;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#x3002;<br>
&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;<br>
C++:</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;pybind11/pybind11&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;pybind11/eigen.h&gt;</span></span>
<span class="token keyword keyword-namespace">namespace</span> py<span class="token operator">=</span>pybind11<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> RowMatrixXd <span class="token operator">=</span> Eigen<span class="token double-colon punctuation">::</span>Matrix<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span>Eigen<span class="token double-colon punctuation">::</span>Dynamic<span class="token punctuation">,</span> Eigen<span class="token double-colon punctuation">::</span>RowMajor<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">PYBIND11_MODULE</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">{</span>
    m<span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token string">&quot;scale&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>Eigen<span class="token double-colon punctuation">::</span>Ref<span class="token operator">&lt;</span>RowMatrixXd<span class="token operator">&gt;</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span> m <span class="token operator">*=</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Python:</p>
<pre data-role="codeBlock" data-info="py" class="language-python"><span class="token keyword keyword-from">from</span> name <span class="token keyword keyword-import">import</span> scale
<span class="token keyword keyword-import">import</span> numpy <span class="token keyword keyword-as">as</span> np
a<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword keyword-print">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
scale<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword keyword-print">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</pre><p>&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre data-role="codeBlock" data-info="py" class="language-python"><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span> <span class="token number">3</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</pre><p>&#x53EF;&#x4EE5;&#x770B;&#x51FA; numpy &#x77E9;&#x9635; a &#x786E;&#x5B9E;&#x662F;&#x5F15;&#x7528;&#x4F20;&#x9012;&#x7ED9;&#x4E86; <code>scale</code> &#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x88AB;&#x4E58;&#x4E86; 3 &#x500D;</p>

      </div>
      <div class="md-sidebar-toc"><ul>
<li><a href="#scikit-opt">scikit-opt</a></li>
<li><a href="#simulated-annealing-algorithm">Simulated Annealing Algorithm</a></li>
<li><a href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3tsp">&#x52A8;&#x6001;&#x89C4;&#x5212;&#x89E3;TSP</a></li>
<li><a href="#%E9%80%9A%E8%BF%87-stdcout-%E6%89%93%E5%8D%B0-stl-%E4%B8%AD-%E4%BB%BB%E6%84%8F%E6%A8%A1%E6%9D%BF%E7%9A%84-tuple">&#x901A;&#x8FC7; std::cout &#x6253;&#x5370; STL &#x4E2D; &#x4EFB;&#x610F;&#x6A21;&#x677F;&#x7684; tuple</a></li>
<li><a href="#elkai">elkai</a></li>
<li><a href="#lkh-%E7%AE%97%E6%B3%95">LKH &#x7B97;&#x6CD5;</a></li>
<li><a href="#gurobi-%E7%9A%84-tsp-example">Gurobi &#x7684; tsp example</a></li>
<li><a href="#ctypes">ctypes</a></li>
<li><a href="#pybind11">pybind11</a></li>
<li><a href="#resource-scheduling-problem-in-hadoop">Resource Scheduling Problem in Hadoop</a></li>
<li><a href="#%E4%B8%80%E4%B8%AA%E8%B4%AA%E5%BF%83%E5%9C%A8%E7%BA%BF%E7%AE%97%E6%B3%95%E7%9A%84c%E5%AE%9E%E7%8E%B0">&#x4E00;&#x4E2A;&#x8D2A;&#x5FC3;&#x5728;&#x7EBF;&#x7B97;&#x6CD5;&#x7684;C++&#x5B9E;&#x73B0;</a></li>
<li><a href="#%E9%80%9A%E8%BF%87ga%E6%B1%82%E8%A7%A3%E4%BB%BB%E5%8A%A1%E5%88%86%E9%85%8D">&#x901A;&#x8FC7;GA&#x6C42;&#x89E3;&#x4EFB;&#x52A1;&#x5206;&#x914D;</a></li>
<li><a href="#vcpkg">vcpkg</a></li>
<li><a href="#ceres">ceres</a></li>
<li><a href="#eigen">Eigen</a></li>
<li><a href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92">&#x77E9;&#x9635;&#x7684;&#x5F15;&#x7528;&#x4F20;&#x9012;</a></li>
</ul>
</div>
      <a id="sidebar-toc-btn">&#x2261;</a>
    
    
    <script>
// config mermaid init call
// http://knsv.github.io/mermaid/#configuration
//
// You can edit the 'MERMAID_CONFIG' variable below.
MERMAID_CONFIG = {
  startOnLoad: false
}

if (window['MERMAID_CONFIG']) {
  window['MERMAID_CONFIG'].startOnLoad = false
  window['MERMAID_CONFIG'].cloneCssStyles = false
  window['MERMAID_CONFIG'].theme = "default"
}
mermaid.initialize(window['MERMAID_CONFIG'] || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidechanged', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
} else {
  mermaid.init(null, document.getElementsByClassName('mermaid'))
}
</script>
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  
    </body></html>